<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sri Lanka Tourism Chatbot Demo</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 300;
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .chat-container {
            display: flex;
            height: 600px;
        }

        .chat-sidebar {
            width: 300px;
            background: #f8f9fa;
            border-right: 1px solid #e9ecef;
            padding: 20px;
        }

        .chat-main {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .chat-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background: #f8f9fa;
        }

        .message {
            margin-bottom: 15px;
            display: flex;
            align-items: flex-start;
        }

        .message.user {
            justify-content: flex-end;
        }

        .message.bot {
            justify-content: flex-start;
        }

        .message-content {
            max-width: 70%;
            padding: 12px 18px;
            border-radius: 20px;
            word-wrap: break-word;
        }

        .message.user .message-content {
            background: #007bff;
            color: white;
            border-bottom-right-radius: 5px;
        }

        .message.bot .message-content {
            background: white;
            color: #333;
            border: 1px solid #e9ecef;
            border-bottom-left-radius: 5px;
        }

        .message-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin: 0 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: white;
        }

        .message.user .message-avatar {
            background: #007bff;
        }

        .message.bot .message-avatar {
            background: #28a745;
        }

        .chat-input {
            padding: 20px;
            border-top: 1px solid #e9ecef;
            background: white;
        }

        .input-group {
            display: flex;
            gap: 10px;
        }

        .chat-input input {
            flex: 1;
            padding: 12px 20px;
            border: 2px solid #e9ecef;
            border-radius: 25px;
            font-size: 16px;
            outline: none;
            transition: border-color 0.3s;
        }

        .chat-input input:focus {
            border-color: #007bff;
        }

        .chat-input button {
            padding: 12px 25px;
            background: #007bff;
            color: white;
            border: none;
            border-radius: 25px;
            font-size: 16px;
            cursor: pointer;
            transition: background 0.3s;
        }

        .chat-input button:hover {
            background: #0056b3;
        }

        .chat-input button:disabled {
            background: #6c757d;
            cursor: not-allowed;
        }

        .language-selector {
            margin-bottom: 20px;
        }

        .language-selector label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #495057;
        }

        .language-selector select {
            width: 100%;
            padding: 10px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 14px;
            outline: none;
        }

        .guide-selector {
            margin-bottom: 20px;
        }

        .guide-selector label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #495057;
        }

        .guide-selector select {
            width: 100%;
            padding: 10px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 14px;
            outline: none;
        }

        .stats {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .stats h3 {
            margin-bottom: 10px;
            color: #495057;
            font-size: 16px;
        }

        .stat-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
            font-size: 14px;
        }

        .stat-label {
            color: #6c757d;
        }

        .stat-value {
            font-weight: 600;
            color: #495057;
        }

        .clear-btn {
            width: 100%;
            padding: 10px;
            background: #dc3545;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.3s;
        }

        .clear-btn:hover {
            background: #c82333;
        }

        .typing-indicator {
            display: none;
            padding: 12px 18px;
            background: white;
            border: 1px solid #e9ecef;
            border-radius: 20px;
            border-bottom-left-radius: 5px;
            margin-bottom: 15px;
            max-width: 70%;
        }

        .typing-dots {
            display: flex;
            gap: 4px;
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            background: #6c757d;
            border-radius: 50%;
            animation: typing 1.4s infinite ease-in-out;
        }

        .typing-dot:nth-child(1) { animation-delay: -0.32s; }
        .typing-dot:nth-child(2) { animation-delay: -0.16s; }

        @keyframes typing {
            0%, 80%, 100% { transform: scale(0); }
            40% { transform: scale(1); }
        }

        .message-time {
            font-size: 12px;
            color: #6c757d;
            margin-top: 5px;
            text-align: center;
        }

        .intent-badge {
            display: inline-block;
            background: #17a2b8;
            color: white;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 11px;
            margin-top: 5px;
        }

        .confidence-bar {
            width: 100%;
            height: 4px;
            background: #e9ecef;
            border-radius: 2px;
            margin-top: 5px;
            overflow: hidden;
        }

        .confidence-fill {
            height: 100%;
            background: #28a745;
            transition: width 0.3s ease;
        }

        .welcome-message {
            text-align: center;
            padding: 40px 20px;
            color: #6c757d;
        }

        .welcome-message h3 {
            margin-bottom: 15px;
            color: #495057;
        }

        .welcome-message p {
            margin-bottom: 10px;
            line-height: 1.6;
        }

        .example-queries {
            background: #e9ecef;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
        }

        .example-queries h4 {
            margin-bottom: 10px;
            color: #495057;
        }

        .example-query {
            background: white;
            padding: 8px 12px;
            margin: 5px 0;
            border-radius: 6px;
            cursor: pointer;
            transition: background 0.2s;
            font-size: 14px;
        }

        .example-query:hover {
            background: #f8f9fa;
        }

        @media (max-width: 768px) {
            .chat-container {
                flex-direction: column;
                height: auto;
            }
            
            .chat-sidebar {
                width: 100%;
                border-right: none;
                border-bottom: 1px solid #e9ecef;
            }
            
            .container {
                margin: 10px;
                border-radius: 15px;
            }
            
            .header h1 {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üá±üá∞ Sri Lanka Tourism Chatbot</h1>
            <p>Your multilingual virtual tour guide for exploring the Pearl of the Indian Ocean</p>
        </div>
        
        <div class="chat-container">
            <div class="chat-sidebar">
                <div class="language-selector">
                    <label for="language">Language:</label>
                    <select id="language">
                        <option value="en">English</option>
                        <option value="si">‡∑É‡∑í‡∂Ç‡∑Ñ‡∂Ω (Sinhala)</option>
                        <option value="ta">‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç (Tamil)</option>
                    </select>
                </div>
                
                <div class="guide-selector">
                    <label for="guide">Tour Guide:</label>
                    <select id="guide">
                        <option value="Saru">Saru</option>
                        <option value="Anjali">Anjali</option>
                    </select>
                </div>
                
                <div class="stats">
                    <h3>Conversation Stats</h3>
                    <div class="stat-item">
                        <span class="stat-label">Messages:</span>
                        <span class="stat-value" id="message-count">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Languages:</span>
                        <span class="stat-value" id="languages-used">-</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Current Guide:</span>
                        <span class="stat-value" id="current-guide">Saru</span>
                    </div>
                </div>
                
                <button class="clear-btn" onclick="clearChat()">Clear Chat</button>
                
                <div class="example-queries">
                    <h4>Try asking about:</h4>
                    <div class="example-query" onclick="setExampleQuery('Tell me about Sigiriya')">
                        üè∞ Tell me about Sigiriya
                    </div>
                    <div class="example-query" onclick="setExampleQuery('What food should I try?')">
                        üçΩÔ∏è What food should I try?
                    </div>
                    <div class="example-query" onclick="setExampleQuery('How do I get around?')">
                        üöå How do I get around?
                    </div>
                    <div class="example-query" onclick="setExampleQuery('Where should I stay?')">
                        üè® Where should I stay?
                    </div>
                    <div class="example-query" onclick="setExampleQuery('Tell me about local customs')">
                        üé≠ Tell me about local customs
                    </div>
                </div>
            </div>
            
            <div class="chat-main">
                <div class="chat-messages" id="chat-messages">
                    <div class="welcome-message">
                        <h3>Welcome to Sri Lanka! üá±üá∞</h3>
                        <p>I'm your virtual tour guide, ready to help you explore this beautiful island!</p>
                        <p>Ask me about:</p>
                        <ul style="text-align: left; display: inline-block;">
                            <li>üè∞ Tourist attractions and landmarks</li>
                            <li>üçΩÔ∏è Local cuisine and food recommendations</li>
                            <li>üöå Transportation options</li>
                            <li>üè® Accommodation suggestions</li>
                            <li>üé≠ Cultural customs and etiquette</li>
                        </ul>
                        <p>I can communicate in English, Sinhala (‡∑É‡∑í‡∂Ç‡∑Ñ‡∂Ω), and Tamil (‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç).</p>
                        <p>Start by saying hello or asking a question!</p>
                    </div>
                </div>
                
                <div class="typing-indicator" id="typing-indicator">
                    <div class="typing-dots">
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                    </div>
                </div>
                
                <div class="chat-input">
                    <div class="input-group">
                        <input type="text" id="message-input" placeholder="Type your message here..." onkeypress="handleKeyPress(event)">
                        <button onclick="sendMessage()" id="send-button">Send</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let userId = 'demo_user_' + Math.random().toString(36).substr(2, 9);
        let messageCount = 0;
        let currentLanguage = 'en';
        let currentGuide = 'Saru';
        
        // Initialize the chatbot
        document.addEventListener('DOMContentLoaded', function() {
            updateStats();
            changeGuide();
        });
        
        // Language selector change
        document.getElementById('language').addEventListener('change', function() {
            currentLanguage = this.value;
            updateStats();
        });
        
        // Guide selector change
        document.getElementById('guide').addEventListener('change', function() {
            currentGuide = this.value;
            changeGuide();
        });
        
        function changeGuide() {
            // In a real implementation, this would call the API to change the guide
            document.getElementById('current-guide').textContent = currentGuide;
        }
        
        function handleKeyPress(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }
        
        function sendMessage() {
            const input = document.getElementById('message-input');
            const message = input.value.trim();
            
            if (!message) return;
            
            // Add user message to chat
            addMessage(message, 'user');
            input.value = '';
            
            // Show typing indicator
            showTypingIndicator();
            
            // Simulate API call (replace with actual API call)
            setTimeout(() => {
                hideTypingIndicator();
                processBotResponse(message);
            }, 1000 + Math.random() * 2000); // Random delay to simulate processing
        }
        
        function processBotResponse(userMessage) {
            // Simulate bot response based on user message
            let response = '';
            let intent = 'unknown';
            let confidence = 0.8;
            
            const messageLower = userMessage.toLowerCase();
            
            if (messageLower.includes('hello') || messageLower.includes('hi') || messageLower.includes('hey')) {
                response = getGreetingResponse();
                intent = 'greeting';
            } else if (messageLower.includes('sigiriya')) {
                response = getSigiriyaResponse();
                intent = 'attraction_info';
            } else if (messageLower.includes('food') || messageLower.includes('eat') || messageLower.includes('cuisine')) {
                response = getFoodResponse();
                intent = 'food_info';
            } else if (messageLower.includes('transport') || messageLower.includes('bus') || messageLower.includes('train')) {
                response = getTransportResponse();
                intent = 'transport_info';
            } else if (messageLower.includes('hotel') || messageLower.includes('stay') || messageLower.includes('accommodation')) {
                response = getAccommodationResponse();
                intent = 'accommodation_info';
            } else if (messageLower.includes('culture') || messageLower.includes('custom') || messageLower.includes('etiquette')) {
                response = getCultureResponse();
                intent = 'culture_info';
            } else if (messageLower.includes('bye') || messageLower.includes('goodbye') || messageLower.includes('thank')) {
                response = getGoodbyeResponse();
                intent = 'goodbye';
            } else {
                response = getFallbackResponse();
                intent = 'unknown';
            }
            
            // Add bot response to chat
            addMessage(response, 'bot', intent, confidence);
        }
        
        function getGreetingResponse() {
            const greetings = {
                'en': `Hi there! I'm ${currentGuide}, your friendly Sri Lanka tour guide! How can I help you explore this beautiful island today?`,
                'si': `‡∂Ü‡∂∫‡∑î‡∂∂‡∑ù‡∑Ä‡∂±‡∑ä! ‡∂∏‡∂∏ ${currentGuide}, ‡∂î‡∂∂‡∑ö ‡∂∏‡∑í‡∂≠‡∑î‡∂ª‡∑è ‡∑Å‡∑ä‚Äç‡∂ª‡∑ì ‡∂Ω‡∂Ç‡∂ö‡∑è ‡∑É‡∂Ç‡∂†‡∑è‡∂ª‡∂ö ‡∂∏‡∂ü‡∂¥‡∑ô‡∂±‡∑ä‡∑Ä‡∑ì‡∂∏‡∑ä ‡∂ö‡∂ª‡∂±‡∑ä‡∂±‡∑ô‡∂∏‡∑í! ‡∂Ö‡∂Ø ‡∂∏‡∂∏ ‡∂î‡∂∂‡∂ß ‡∂∏‡∑ô‡∂∏ ‡∑É‡∑î‡∂±‡∑ä‡∂Ø‡∂ª ‡∂Ø‡∑í‡∑Ä‡∂∫‡∑í‡∂± ‡∂ú‡∑Ä‡∑ö‡∑Ç‡∂´‡∂∫ ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏‡∂ß ‡∂ö‡∑ô‡∑É‡∑ö ‡∂ã‡∂Ø‡∑Ä‡∑ä ‡∂ö‡∑Ö ‡∑Ñ‡∑ê‡∂ö‡∑í‡∂Ø?`,
                'ta': `‡Æµ‡Æ£‡Æï‡Øç‡Æï‡ÆÆ‡Øç! ‡Æ®‡Ææ‡Æ©‡Øç ${currentGuide}, ‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æ®‡Æü‡Øç‡Æ™‡ØÅ ‡Æá‡Æ≤‡Æô‡Øç‡Æï‡Øà ‡Æö‡ØÅ‡Æ±‡Øç‡Æ±‡ØÅ‡Æ≤‡Ææ ‡Æµ‡Æ¥‡Æø‡Æï‡Ææ‡Æü‡Øç‡Æü‡Æø! ‡Æá‡Æ©‡Øç‡Æ±‡ØÅ ‡Æá‡Æ®‡Øç‡Æ§ ‡ÆÖ‡Æ¥‡Æï‡Ææ‡Æ© ‡Æ§‡ØÄ‡Æµ‡Øà ‡ÆÜ‡Æ∞‡Ææ‡ÆØ‡Øç‡Æ®‡Øç‡Æ§‡ØÅ ‡Æï‡Øä‡Æ≥‡Øç‡Æ≥ ‡Æ®‡Ææ‡Æ©‡Øç ‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡ØÅ‡Æï‡Øç‡Æï‡ØÅ ‡Æé‡Æ™‡Øç‡Æ™‡Æü‡Æø ‡Æâ‡Æ§‡Æµ ‡ÆÆ‡ØÅ‡Æü‡Æø‡ÆØ‡ØÅ‡ÆÆ‡Øç?`
            };
            return greetings[currentLanguage] || greetings['en'];
        }
        
        function getSigiriyaResponse() {
            const responses = {
                'en': "üè∞ Sigiriya is an ancient palace and fortress complex built on a massive rock column. Known as the 8th wonder of the world, it's located in the Central Province. The best time to visit is early morning or late afternoon to avoid crowds and heat. Don't miss the Lion's Paw entrance, fresco paintings, and the mirror wall! üí° Pro tip: Wear comfortable shoes and bring water - it's quite a climb!",
                'si': "üè∞ ‡∑É‡∑ì‡∂ú‡∑í‡∂ª‡∑í‡∂∫ ‡∂∫‡∂±‡∑î ‡∑Ä‡∑í‡∑Å‡∑è‡∂Ω ‡∂ú‡∂Ω‡∑ä ‡∂≠‡∑ì‡∂ª‡∑î‡∑Ä‡∂ö‡∑ä ‡∂∏‡∂≠ ‡∂â‡∂Ø‡∑í‡∂ö‡∂ª ‡∂á‡∂≠‡∑í ‡∂¥‡∑î‡∂ª‡∑è‡∂´ ‡∂ª‡∑è‡∂¢ ‡∂∏‡∑è‡∂Ω‡∑í‡∂ú‡∑è‡∑Ä‡∂ö‡∑ä ‡∑É‡∑Ñ ‡∂∂‡∂Ω‡∂ö‡∑ú‡∂ß‡∑î‡∑Ä‡∂ö‡∑í. ‡∂Ω‡∑ù‡∂ö‡∂∫‡∑ö 8 ‡∑Ä‡∑ê‡∂±‡∑í ‡∂Ü‡∑Å‡∑ä‡∂†‡∂ª‡∑ä‚Äç‡∂∫‡∂∫ ‡∂Ω‡∑ô‡∑É ‡∑Ñ‡∑ê‡∂≥‡∑í‡∂±‡∑ä‡∑Ä‡∑ö. ‡∂∂‡∑Ñ‡∑î‡∂Ω ‡∂¢‡∂±‡∂∫‡∑è ‡∑É‡∑Ñ ‡∂ã‡∂´‡∑î‡∑É‡∑î‡∂∏ ‡∑Ä‡∑Ö‡∂ö‡∑ä‡∑Ä‡∑è ‡∂ú‡∑ê‡∂±‡∑ì‡∂∏‡∂ß ‡∂ã‡∂Ø‡∑ë‡∑É‡∂± ‡∑Ñ‡∑ù ‡∑É‡∑Ä‡∑É‡∑ä ‡∂ö‡∑è‡∂Ω‡∂∫ ‡∂∫‡∑ù‡∂ú‡∑ä‚Äç‡∂∫ ‡∑Ä‡∑ö.",
                'ta': "üè∞ ‡Æö‡Æø‡Æï‡Æø‡Æ∞‡Æø‡ÆØ‡Ææ ‡Æé‡Æ©‡Øç‡Æ™‡Æ§‡ØÅ ‡Æí‡Æ∞‡ØÅ ‡Æ™‡ØÜ‡Æ∞‡Æø‡ÆØ ‡Æ™‡Ææ‡Æ±‡Øà ‡Æ®‡ØÜ‡Æü‡ØÅ‡Æµ‡Æ∞‡Æø‡Æö‡Øà‡ÆØ‡Æø‡Æ≤‡Øç ‡Æï‡Æü‡Øç‡Æü‡Æ™‡Øç‡Æ™‡Æü‡Øç‡Æü ‡Æ™‡Æ¥‡Øà‡ÆØ ‡ÆÖ‡Æ∞‡Æ£‡Øç‡ÆÆ‡Æ©‡Øà ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡Æï‡Øã‡Æü‡Øç‡Æü‡Øà ‡Æµ‡Æ≥‡Ææ‡Æï‡ÆÆ‡Ææ‡Æï‡ØÅ‡ÆÆ‡Øç. ‡Æâ‡Æ≤‡Æï‡Æø‡Æ©‡Øç 8 ‡Æµ‡Æ§‡ØÅ ‡ÆÖ‡Æ§‡Æø‡Æö‡ÆØ‡ÆÆ‡Ææ‡Æï ‡ÆÖ‡Æ±‡Æø‡ÆØ‡Æ™‡Øç‡Æ™‡Æü‡ØÅ‡Æï‡Æø‡Æ±‡Æ§‡ØÅ. ‡Æï‡ØÇ‡Æü‡Øç‡Æü‡ÆÆ‡Øç ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡Æµ‡ØÜ‡Æ™‡Øç‡Æ™‡Æ§‡Øç‡Æ§‡Øà‡Æ§‡Øç ‡Æ§‡Æµ‡Æø‡Æ∞‡Øç‡Æï‡Øç‡Æï ‡Æï‡Ææ‡Æ≤‡Øà ‡ÆÖ‡Æ≤‡Øç‡Æ≤‡Æ§‡ØÅ ‡ÆÆ‡Ææ‡Æ≤‡Øà ‡Æ®‡Øá‡Æ∞‡ÆÆ‡Øç ‡Æö‡Æø‡Æ±‡Æ®‡Øç‡Æ§‡Æ§‡ØÅ."
            };
            return responses[currentLanguage] || responses['en'];
        }
        
        function getFoodResponse() {
            const responses = {
                'en': "üçΩÔ∏è Sri Lankan cuisine is a delightful blend of flavors! Must-try dishes include rice and curry (the national dish), hoppers (crispy bowl-shaped pancakes), and kottu roti (shredded flatbread with vegetables). For authentic experience, try eating with your hands and ask for your preferred spice level. üí° Local secret: Try street food near temples for the best local flavors!",
                'si': "üçΩÔ∏è ‡∑Å‡∑ä‚Äç‡∂ª‡∑ì ‡∂Ω‡∑è‡∂Ç‡∂ö‡∑ì‡∂∫ ‡∂Ü‡∑Ñ‡∑è‡∂ª ‡∂ª‡∑É‡∑Ä‡∂≠‡∑ä ‡∑É‡∑î‡∑Ä‡∂≥‡∑Ä‡∂Ω ‡∂∏‡∑í‡∑Å‡∑ä‚Äç‡∂ª‡∂´‡∂∫‡∂ö‡∑í! ‡∂ã‡∂≠‡∑ä‡∑É‡∑è‡∑Ñ ‡∂ö‡∑Ö ‡∂∫‡∑î‡∂≠‡∑î ‡∂Ü‡∑Ñ‡∑è‡∂ª ‡∂∂‡∂≠‡∑ä ‡∑É‡∑Ñ ‡∂ö‡∂ª‡∑Ä‡∂Ω (‡∂¢‡∑è‡∂≠‡∑í‡∂ö ‡∂Ü‡∑Ñ‡∑è‡∂ª), ‡∂Ü‡∂¥‡∑ä‡∂¥ (‡∂¥‡∑í‡∑Ö‡∑í‡∑É‡∑ä‡∑É‡∑ñ ‡∂∑‡∑è‡∂¢‡∂±‡∑è‡∂ö‡∑è‡∂ª ‡∂Ü‡∂¥‡∑ä‡∂¥), ‡∑É‡∑Ñ ‡∂ö‡∑ú‡∂ß‡∑ä‡∂ß‡∑î ‡∂ª‡∑ú‡∂ß‡∑í (‡∂ë‡∑Ö‡∑Ä‡∑Ö‡∑î ‡∑É‡∂∏‡∂ü ‡∂ö‡∑ê‡∂©‡∑ñ ‡∂ª‡∑ú‡∂ß‡∑í) ‡∑Ä‡∑ö.",
                'ta': "üçΩÔ∏è ‡Æá‡Æ≤‡Æô‡Øç‡Æï‡Øà ‡Æâ‡Æ£‡Æµ‡ØÅ ‡Æö‡ØÅ‡Æµ‡Øà‡ÆØ‡Ææ‡Æ© ‡Æö‡ØÅ‡Æµ‡Øà‡Æï‡Æ≥‡Æø‡Æ©‡Øç ‡Æï‡Æ≤‡Æµ‡Øà‡ÆØ‡Ææ‡Æï‡ØÅ‡ÆÆ‡Øç! ‡ÆÆ‡ØÅ‡ÆØ‡Æ±‡Øç‡Æö‡Æø‡Æï‡Øç‡Æï ‡Æµ‡Øá‡Æ£‡Øç‡Æü‡Æø‡ÆØ ‡Æâ‡Æ£‡Æµ‡ØÅ‡Æï‡Æ≥‡Øç ‡Æö‡Øã‡Æ±‡ØÅ ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡Æï‡ØÅ‡Æ¥‡ÆÆ‡Øç‡Æ™‡ØÅ (‡Æ§‡Øá‡Æö‡Æø‡ÆØ ‡Æâ‡Æ£‡Æµ‡ØÅ), ‡ÆÖ‡Æ™‡Øç‡Æ™‡ÆÆ‡Øç (‡ÆÆ‡Æø‡Æ∞‡ØÅ‡Æ§‡ØÅ‡Æµ‡Ææ‡Æ© ‡Æ™‡Ææ‡Æ§‡Øç‡Æ§‡Æø‡Æ∞ ‡Æµ‡Æü‡Æø‡Æµ ‡ÆÖ‡Æ™‡Øç‡Æ™‡ÆÆ‡Øç), ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡Æï‡Øä‡Æü‡Øç‡Æü‡ØÅ ‡Æ∞‡Øä‡Æü‡Øç‡Æü‡Æø (‡Æï‡Ææ‡ÆØ‡Øç‡Æï‡Æ±‡Æø‡Æï‡Æ≥‡ØÅ‡Æü‡Æ©‡Øç ‡Æï‡ØÇ‡Æü‡Æø‡ÆØ ‡Æï‡Æø‡Æ¥‡Æø‡Æ®‡Øç‡Æ§ ‡Æ∞‡Øä‡Æü‡Øç‡Æü‡Æø) ‡ÆÜ‡Æï‡ØÅ‡ÆÆ‡Øç."
            };
            return responses[currentLanguage] || responses['en'];
        }
        
        function getTransportResponse() {
            const responses = {
                'en': "üöå Sri Lanka offers various transport options! Public buses are very cheap (Rs. 20-200) and cover most of the country. Trains provide scenic journeys, especially the Kandy to Ella route. Tuk-tuks are great for short distances - always negotiate the price first! üí° Insider tip: Book 2nd or 3rd class train tickets for the best views and most authentic experience!",
                'si': "üöå ‡∑Å‡∑ä‚Äç‡∂ª‡∑ì ‡∂Ω‡∂Ç‡∂ö‡∑è‡∑Ä ‡∑Ä‡∑í‡∑Ä‡∑í‡∂∞ ‡∂¥‡∑ä‚Äç‡∂ª‡∑Ä‡∑è‡∑Ñ‡∂± ‡∑Ä‡∑í‡∂ö‡∂Ω‡∑ä‡∂¥ ‡∂Ω‡∂∂‡∑è ‡∂Ø‡∑ô‡∂∫‡∑í! ‡∂¥‡∑ú‡∂Ø‡∑î ‡∂∂‡∑É‡∑ä ‡∂â‡∂≠‡∑è ‡∂Ω‡∑è‡∂∑‡∂Ø‡∑è‡∂∫‡∑ì (‡∂ª‡∑î. 20-200) ‡∑Ä‡∂± ‡∂Ö‡∂≠‡∂ª ‡∂ª‡∂ß‡∑ö ‡∂∂‡∑ú‡∑Ñ‡∑ù ‡∂¥‡∑ä‚Äç‡∂ª‡∂Ø‡∑ö‡∑Å ‡∂Ü‡∑Ä‡∂ª‡∂´‡∂∫ ‡∂ö‡∂ª‡∂∫‡∑í.",
                'ta': "üöå ‡Æá‡Æ≤‡Æô‡Øç‡Æï‡Øà ‡Æ™‡Æ≤‡Øç‡Æµ‡Øá‡Æ±‡ØÅ ‡Æ™‡Øã‡Æï‡Øç‡Æï‡ØÅ‡Æµ‡Æ∞‡Æ§‡Øç‡Æ§‡ØÅ ‡Æµ‡Æø‡Æ∞‡ØÅ‡Æ™‡Øç‡Æ™‡Æô‡Øç‡Æï‡Æ≥‡Øà ‡Æµ‡Æ¥‡Æô‡Øç‡Æï‡ØÅ‡Æï‡Æø‡Æ±‡Æ§‡ØÅ! ‡Æ™‡Øä‡Æ§‡ØÅ ‡Æ™‡Æ∏‡Øç‡Æï‡Æ≥‡Øç ‡ÆÆ‡Æø‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç ‡ÆÆ‡Æ≤‡Æø‡Æµ‡Ææ‡Æ©‡Æµ‡Øà (‡Æ∞‡ØÇ. 20-200) ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡Æ®‡Ææ‡Æü‡Øç‡Æü‡Æø‡Æ©‡Øç ‡Æ™‡ØÜ‡Æ∞‡ØÅ‡ÆÆ‡Øç‡Æ™‡Ææ‡Æ≤‡Ææ‡Æ© ‡Æ™‡Æï‡ØÅ‡Æ§‡Æø‡Æï‡Æ≥‡Øà ‡Æâ‡Æ≥‡Øç‡Æ≥‡Æü‡Æï‡Øç‡Æï‡Æø‡ÆØ‡Æµ‡Øà."
            };
            return responses[currentLanguage] || responses['en'];
        }
        
        function getAccommodationResponse() {
            const responses = {
                'en': "üè® Sri Lanka has accommodation for every budget! Hotels range from budget ($20-50) to luxury ($150+). Guesthouses offer family-run experiences ($15-40/night), while homestays provide authentic cultural immersion ($10-30/night including meals). üí° My recommendation: Book guesthouses in Kandy, Galle, and Sigiriya for the best local experience!",
                'si': "üè® ‡∑Å‡∑ä‚Äç‡∂ª‡∑ì ‡∂Ω‡∂Ç‡∂ö‡∑è‡∑Ä‡∂ß ‡∑É‡∑ë‡∂∏ ‡∂Ö‡∂∫‡∑Ä‡∑ê‡∂∫‡∂ö‡∂ß‡∂∏ ‡∂±‡∑Ä‡∑è‡∂≠‡∑ê‡∂±‡∑ä ‡∂á‡∂≠! ‡∑Ñ‡∑ù‡∂ß‡∂Ω‡∑ä ‡∂Ö‡∂∫‡∑Ä‡∑ê‡∂∫ ($20-50) ‡∑É‡∑í‡∂ß ‡∑Ä‡∑í‡∂Ω‡∑è‡∑É‡∑í‡∂≠‡∑è ($150+) ‡∂Ø‡∂ö‡∑ä‡∑Ä‡∑è ‡∂¥‡∂ª‡∑è‡∑É‡∂∫‡∂ö‡∑í.",
                'ta': "üè® ‡Æá‡Æ≤‡Æô‡Øç‡Æï‡Øà‡Æï‡Øç‡Æï‡ØÅ ‡Æí‡Æµ‡Øç‡Æµ‡Øä‡Æ∞‡ØÅ ‡Æ™‡Æü‡Øç‡Æú‡ØÜ‡Æü‡Øç‡Æü‡Æø‡Æ±‡Øç‡Æï‡ØÅ‡ÆÆ‡Øç ‡Æµ‡Æö‡Æø‡Æ™‡Øç‡Æ™‡Æø‡Æü‡ÆÆ‡Øç ‡Æâ‡Æ≥‡Øç‡Æ≥‡Æ§‡ØÅ! ‡Æπ‡Øã‡Æü‡Øç‡Æü‡Æ≤‡Øç‡Æï‡Æ≥‡Øç ‡Æ™‡Æü‡Øç‡Æú‡ØÜ‡Æü‡Øç ($20-50) ‡ÆÆ‡ØÅ‡Æ§‡Æ≤‡Øç ‡Æ≤‡Æï‡Øç‡Æö‡Æ∞‡Æø ($150+) ‡Æµ‡Æ∞‡Øà ‡Æá‡Æ∞‡ØÅ‡Æï‡Øç‡Æï‡ØÅ‡ÆÆ‡Øç."
            };
            return responses[currentLanguage] || responses['en'];
        }
        
        function getCultureResponse() {
            const responses = {
                'en': "üé≠ Sri Lankan culture is rich and diverse! The traditional greeting 'Ayubowan' means 'May you live long' - place your palms together and bow slightly. When visiting temples, dress modestly and remove your shoes. Major festivals include Sinhala New Year (April) and Esala Perahera (July/August). üí° Cultural tip: Always greet elders first and respect local customs!",
                'si': "üé≠ ‡∑Å‡∑ä‚Äç‡∂ª‡∑ì ‡∂Ω‡∑è‡∂Ç‡∂ö‡∑ì‡∂∫ ‡∑É‡∂Ç‡∑É‡∑ä‡∂ö‡∑ò‡∂≠‡∑í‡∂∫ ‡∑É‡∂Ç‡∂¥‡∑ñ‡∂ª‡∑ä‡∂´ ‡∑É‡∑Ñ ‡∑Ä‡∑í‡∑Ä‡∑í‡∂∞‡∑è‡∂ö‡∑è‡∂ª ‡∑Ä‡∑ö! ‡∑É‡∂∏‡∑ä‡∂¥‡∑ä‚Äç‡∂ª‡∂Ø‡∑è‡∂∫‡∑í‡∂ö ‡∂Ü‡∂∫‡∑î‡∂∂‡∑ù‡∑Ä‡∂±‡∑ä ‡∂∫‡∂±‡∑î '‡∂î‡∂∂ ‡∂Ø‡∑í‡∂ú‡∑î ‡∂ö‡∑è‡∂Ω‡∂∫‡∂ö‡∑ä ‡∂¢‡∑ì‡∑Ä‡∂≠‡∑ä ‡∑Ä‡∑ö‡∑Ä‡∑è' ‡∂∫‡∂±‡∑ä‡∂±‡∂∫‡∑í.",
                'ta': "üé≠ ‡Æá‡Æ≤‡Æô‡Øç‡Æï‡Øà ‡Æï‡Æ≤‡Ææ‡Æö‡Øç‡Æö‡Ææ‡Æ∞‡ÆÆ‡Øç ‡Æö‡ØÜ‡Æ¥‡ØÅ‡ÆÆ‡Øà‡ÆØ‡Ææ‡Æ©‡Æ§‡ØÅ ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡Æ™‡Æ≤‡Øç‡Æµ‡Øá‡Æ±‡ØÅ ‡Æµ‡Æï‡Øà‡ÆØ‡Ææ‡Æ©‡Æ§‡ØÅ! ‡Æ™‡Ææ‡Æ∞‡ÆÆ‡Øç‡Æ™‡Æ∞‡Æø‡ÆØ ‡Æµ‡Æ£‡Æï‡Øç‡Æï‡ÆÆ‡Øç '‡Æµ‡Æ£‡Æï‡Øç‡Æï‡ÆÆ‡Øç' ‡Æé‡Æ©‡Øç‡Æ™‡Æ§‡ØÅ '‡Æ®‡ØÄ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æ®‡ØÄ‡Æ£‡Øç‡Æü ‡Æï‡Ææ‡Æ≤‡ÆÆ‡Øç ‡Æµ‡Ææ‡Æ¥‡Øç‡Æï' ‡Æé‡Æ©‡Øç‡Æ™‡Æ§‡Ææ‡Æï‡ØÅ‡ÆÆ‡Øç."
            };
            return responses[currentLanguage] || responses['en'];
        }
        
        function getGoodbyeResponse() {
            const responses = {
                'en': `Thank you for exploring Sri Lanka with me! I hope I've helped you discover the magic of this beautiful island. Remember, ${currentGuide} is always here when you need travel advice. Have a wonderful journey, and come back soon! Ayubowan! üôè`,
                'si': `‡∂∏‡∑è ‡∑É‡∂∏‡∂ü ‡∑Å‡∑ä‚Äç‡∂ª‡∑ì ‡∂Ω‡∂Ç‡∂ö‡∑è‡∑Ä ‡∂ú‡∑Ä‡∑ö‡∑Ç‡∂´‡∂∫ ‡∂ö‡∑Ö ‡∂î‡∂∂‡∂ß ‡∑É‡∑ä‡∂≠‡∑ñ‡∂≠‡∑í‡∂∫‡∑í! ‡∂î‡∂∂‡∂ß ‡∂Ö‡∂¥‡∑ñ‡∂ª‡∑î ‡∂ú‡∂∏‡∂±‡∂ö‡∑ä ‡∂Ω‡∑ê‡∂∂‡∑ö‡∑Ä‡∑è, ‡∂â‡∂ö‡∑ä‡∂∏‡∂±‡∑í‡∂±‡∑ä ‡∂±‡∑ê‡∑Ä‡∂≠ ‡∂ë‡∂±‡∑ä‡∂±. ‡∂Ü‡∂∫‡∑î‡∂∂‡∑ù‡∑Ä‡∂±‡∑ä!`,
                'ta': `‡Æé‡Æ©‡Øç‡Æ©‡ØÅ‡Æü‡Æ©‡Øç ‡Æá‡Æ≤‡Æô‡Øç‡Æï‡Øà‡ÆØ‡Øà ‡ÆÜ‡Æ∞‡Ææ‡ÆØ‡Øç‡Æ®‡Øç‡Æ§‡Æ§‡Æ±‡Øç‡Æï‡ØÅ ‡Æ®‡Æ©‡Øç‡Æ±‡Æø! ‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡ØÅ‡Æï‡Øç‡Æï‡ØÅ ‡ÆÖ‡Æ∞‡ØÅ‡ÆÆ‡Øà‡ÆØ‡Ææ‡Æ© ‡Æ™‡ÆØ‡Æ£‡ÆÆ‡Øç ‡Æï‡Æø‡Æü‡Øà‡Æï‡Øç‡Æï‡Æü‡Øç‡Æü‡ØÅ‡ÆÆ‡Øç, ‡Æµ‡Æø‡Æ∞‡Øà‡Æµ‡Æø‡Æ≤‡Øç ‡Æ§‡Æø‡Æ∞‡ØÅ‡ÆÆ‡Øç‡Æ™‡Æø ‡Æµ‡Ææ‡Æ∞‡ØÅ‡Æô‡Øç‡Æï‡Æ≥‡Øç. ‡Æµ‡Æ£‡Æï‡Øç‡Æï‡ÆÆ‡Øç!`
            };
            return responses[currentLanguage] || responses['en'];
        }
        
        function getFallbackResponse() {
            const responses = {
                'en': "I'm not sure I understood that. Could you please ask about attractions, food, culture, transport, or accommodation in Sri Lanka? I'm here to help you plan your perfect trip!",
                'si': "‡∂∏‡∂ß ‡∂ë‡∂∫ ‡∂≠‡∑ö‡∂ª‡∑î‡∂∏‡∑ä‡∂ú‡∂≠ ‡∂±‡∑ú‡∑Ñ‡∑ê‡∂ö‡∑í‡∂∫. ‡∂ö‡∂ª‡∑î‡∂´‡∑è‡∂ö‡∂ª ‡∑Å‡∑ä‚Äç‡∂ª‡∑ì ‡∂Ω‡∂Ç‡∂ö‡∑è‡∑Ä‡∑ö ‡∑É‡∂Ç‡∂†‡∑è‡∂ª‡∂ö ‡∑É‡∑ä‡∂Æ‡∑è‡∂±, ‡∂Ü‡∑Ñ‡∑è‡∂ª, ‡∑É‡∂Ç‡∑É‡∑ä‡∂ö‡∑ò‡∂≠‡∑í‡∂∫, ‡∂¥‡∑ä‚Äç‡∂ª‡∑Ä‡∑è‡∑Ñ‡∂± ‡∑Ñ‡∑ù ‡∂±‡∑Ä‡∑è‡∂≠‡∑ê‡∂±‡∑ä ‡∂ú‡∑ê‡∂± ‡∂Ö‡∑É‡∂±‡∑ä‡∂±?",
                'ta': "‡ÆÖ‡Æ§‡Øà ‡Æ®‡Ææ‡Æ©‡Øç ‡Æ™‡ØÅ‡Æ∞‡Æø‡Æ®‡Øç‡Æ§‡ØÅ‡Æï‡Øä‡Æ≥‡Øç‡Æ≥‡Æµ‡Æø‡Æ≤‡Øç‡Æ≤‡Øà. ‡Æ§‡ÆØ‡Æµ‡ØÅ‡Æö‡ØÜ‡ÆØ‡Øç‡Æ§‡ØÅ ‡Æá‡Æ≤‡Æô‡Øç‡Æï‡Øà‡ÆØ‡Æø‡Æ©‡Øç ‡Æö‡ØÅ‡Æ±‡Øç‡Æ±‡ØÅ‡Æ≤‡Ææ ‡Æá‡Æü‡Æô‡Øç‡Æï‡Æ≥‡Øç, ‡Æâ‡Æ£‡Æµ‡ØÅ, ‡Æï‡Æ≤‡Ææ‡Æö‡Øç‡Æö‡Ææ‡Æ∞‡ÆÆ‡Øç, ‡Æ™‡Øã‡Æï‡Øç‡Æï‡ØÅ‡Æµ‡Æ∞‡Æ§‡Øç‡Æ§‡ØÅ ‡ÆÖ‡Æ≤‡Øç‡Æ≤‡Æ§‡ØÅ ‡Æµ‡Æö‡Æø‡Æ™‡Øç‡Æ™‡Æø‡Æü‡ÆÆ‡Øç ‡Æ™‡Æ±‡Øç‡Æ±‡Æø ‡Æï‡Øá‡Æ≥‡Øç‡Æµ‡Æø‡Æ™‡Øç‡Æ™‡Æü‡Æµ‡ØÅ‡ÆÆ‡Øç?"
            };
            return responses[currentLanguage] || responses['en'];
        }
        
        function addMessage(text, sender, intent = null, confidence = null) {
            const messagesContainer = document.getElementById('chat-messages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}`;
            
            const avatar = document.createElement('div');
            avatar.className = 'message-avatar';
            avatar.textContent = sender === 'user' ? 'üë§' : 'ü§ñ';
            
            const content = document.createElement('div');
            content.className = 'message-content';
            content.innerHTML = text;
            
            // Add intent and confidence info for bot messages
            if (sender === 'bot' && intent && intent !== 'unknown') {
                const intentBadge = document.createElement('div');
                intentBadge.className = 'intent-badge';
                intentBadge.textContent = `Intent: ${intent}`;
                content.appendChild(intentBadge);
                
                if (confidence) {
                    const confidenceBar = document.createElement('div');
                    confidenceBar.className = 'confidence-bar';
                    const confidenceFill = document.createElement('div');
                    confidenceFill.className = 'confidence-fill';
                    confidenceFill.style.width = (confidence * 100) + '%';
                    confidenceBar.appendChild(confidenceFill);
                    content.appendChild(confidenceBar);
                }
            }
            
            // Add timestamp
            const timestamp = document.createElement('div');
            timestamp.className = 'message-time';
            timestamp.textContent = new Date().toLocaleTimeString();
            content.appendChild(timestamp);
            
            messageDiv.appendChild(avatar);
            messageDiv.appendChild(content);
            messagesContainer.appendChild(messageDiv);
            
            // Scroll to bottom
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
            
            // Update message count
            if (sender === 'user') {
                messageCount++;
                updateStats();
            }
        }
        
        function showTypingIndicator() {
            document.getElementById('typing-indicator').style.display = 'block';
            document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight;
        }
        
        function hideTypingIndicator() {
            document.getElementById('typing-indicator').style.display = 'none';
        }
        
        function updateStats() {
            document.getElementById('message-count').textContent = messageCount;
            document.getElementById('languages-used').textContent = currentLanguage.toUpperCase();
            document.getElementById('current-guide').textContent = currentGuide;
        }
        
        function clearChat() {
            const messagesContainer = document.getElementById('chat-messages');
            messagesContainer.innerHTML = `
                <div class="welcome-message">
                    <h3>Welcome to Sri Lanka! üá±üá∞</h3>
                    <p>I'm your virtual tour guide, ready to help you explore this beautiful island!</p>
                    <p>Ask me about:</p>
                    <ul style="text-align: left; display: inline-block;">
                        <li>üè∞ Tourist attractions and landmarks</li>
                        <li>üçΩÔ∏è Local cuisine and food recommendations</li>
                        <li>üöå Transportation options</li>
                        <li>üè® Accommodation suggestions</li>
                        <li>üé≠ Cultural customs and etiquette</li>
                    </ul>
                    <p>I can communicate in English, Sinhala (‡∑É‡∑í‡∂Ç‡∑Ñ‡∂Ω), and Tamil (‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç).</p>
                    <p>Start by saying hello or asking a question!</p>
                </div>
            `;
            messageCount = 0;
            updateStats();
        }
        
        function setExampleQuery(query) {
            document.getElementById('message-input').value = query;
            document.getElementById('message-input').focus();
        }
    </script>
</body>
</html>